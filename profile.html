<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Profil rÃ©parateur | Roulib</title>
  <link rel="stylesheet" href="roulib_full.css" />
</head>
<body>
  <div class="wrapper">

  <header class="roulib-header">
    <div class="header-container">
      <img src="icon-512.png" alt="Logo Roulib" class="logo-header" />
      <h1 class="header-title">Fiche du rÃ©parateur</h1>
    </div>
  </header>

  <nav>
    <a href="index.html">Accueil</a>
  </nav>

  <main class="profile-container">
    <div id="profile-details"></div>
  </main>

  <script>
    fetch('data.json')
      .then(response => response.json())
      .then(data => {
        const params = new URLSearchParams(window.location.search);
        const id = params.get('id');
        const reparateur = data.find(r => r.id == id);

        if (reparateur) {
          const container = document.getElementById('profile-details');
          container.innerHTML = `
  <div class="profil-card">
    <div class="profil-header-row">
      <img src="${reparateur.logo || 'https://via.placeholder.com/100x100?text=Logo'}" alt="Logo rÃ©parateur" class="logo-profil" />
      <div class="profil-title-block">
        <h2>${reparateur.name}</h2>
        <p class="profil-ville">${reparateur.ville}</p>
      </div>
    </div>

    <div class="profil-body">
      <div class="profil-infos">
        <p><strong>Services :</strong> ${reparateur.services.join(', ')}</p>
        <p><strong>TÃ©lÃ©phone :</strong> ${reparateur.phone || 'Non renseignÃ©'}</p>
        <a href="rdv.html?email=${encodeURIComponent(reparateur.email)}" class="btn-primary">ğŸ“… Prendre RDV</a>
      </div>

      <div class="profil-photo">
        <img src="${reparateur.photo || 'https://via.placeholder.com/600x300?text=FaÃ§ade'}" alt="FaÃ§ade magasin" class="facade-img" />
      </div>
    </div>
  </div>
`;
        }
      });
  </script>
</div>

<footer class="roulib-footer">
  Â© 2025 Roulib â€” Tous droits rÃ©servÃ©s
</footer>

</body>
</html>
